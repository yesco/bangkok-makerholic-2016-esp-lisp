
<!-- saved from url=(0068)file:///home/knoppix/GIT/bangkok-makerholic-2016-esp-lisp/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- 2015 (C) Jonas S Karlsson slides using css/javascript/bigletters -->
<style>

.slide {
  text-align: left;
  background: cyan;
  color: red;
  font-weight: bold;
  display: table;
  padding: 10px;
  //border: 1px solid black;
  //border-radius: 3px;
  border-bottom: 1px solid black;
  width: 100%;
  height: 100%;
  overflow: hidden;
  margin-bottom: 200px;
  margin-right: 200px;
}

.fit {
  text-align: center;
  display: inline-block;
  clear: right;
  white-space: pre;
  font-size: 40px;
  line-height: 35px;
}

.xfit:after {
    content: ".";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
    height: 1%;
}
.nav {
  z-level: 100;
  position: fixed;
  top: 0px;
  background: black;
  color: white;
  font-size:50px;
  border: 5px;
  border-radius: 50px;
  font-weight: bold;
  //max-width: 10%;
  min-width: 20px;
}
</style>

<script>
var lastEvent, lastTarget;
</script>

</head><body style="position:absolute; margin:0px; padding:0px; overflow:hidden;">

<div class="nav" style="left:0px;">
  <nobr><span onclick="goto(1)">|</span><span onclick="prev()">&lt;&lt;</span></nobr>
</div>
<div class="nav" style="right:0px;">
  <nobr><span onclick="next()">&gt;&gt;</span><span onclick="goto(-1)">|</span></nobr>
</div>

<div id="menu" style="position: fixed; left: 0px; top: 100px; color: white; font-size: 30px; opacity: 0.00600039186338108; background: black;">
<div onclick="about()" title="show about" style="background:red;color:white;">about</div>
<div id="current" onclick="goto(current)" style="background:white;color:black;border:2px solid black;">23/25</div>
<!--
<div onclick='zoom(current, 0.9)'><b>--</b></div>
<div onclick='zoom(current, 1.1)'><b>++</b></div>
-->
<div onclick="overview()" title="show overview of all slides"><b>?</b></div>
<br>
<div onclick="newslide(current)" title="insert a new slide here"><b>+</b></div>
<div onclick="newslide()" title="new slide at end"><b>++</b></div>
<br>
<div onclick="color(current, &quot;background&quot;);" title="change the slide background color"><b>B</b></div>
<div onclick="color(current, &quot;color&quot;)" title="change the slide text color"><b>C</b></div>
<br>
<div onclick="color(lastTarget, &quot;background&quot;);" title="change the background color"><b>b</b></div>
<div onclick="color(lastTarget, &quot;color&quot;);" title="change the text color"><b>c</b></div>
<br>
<div onclick="pad(lastTarget, &quot;&gt;&lt;&quot;)" title="shrink the text some"><b>&gt;&lt;</b></div>
<div onclick="pad(lastTarget, &quot;&lt;&gt;&quot;)" title="expand the text some"><b>&lt;&gt;</b></div>
<div onclick="pad(lastTarget, &quot;&lt;&quot;)" title="move text more to the left" <b="">&lt;</div>
<div onclick="pad(lastTarget, &quot;&gt;&quot;)" title="move text more to the rigth"><b>&gt;</b></div>
<div onclick="pad(lastTarget, &quot;*&quot;)" title="maximize width of text"><b>*</b></div>
</div>

<div id="all" style="max-width: 100%; width: 100%; overflow: hidden; zoom: 1; background: white;" contenteditable="true" onclick="move(event);return true;" onkeydown="move(event);" onkeyup="resize();" onmousemove="mouse(event)">

<div id="1" title="1" class="slide" style="color: blue; height: 814px; zoom: 0.974850299401198; width: 1400.21498771499px; -webkit-column-break-inside: avoid; background: yellow;">
<div class="fit" style="zoom: 2.53364269141531; display: table-row;">Bangkok MakerHolic #1</div><div class="fit" style="zoom: 1; display: table-row;"><br></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 5.32682926829268; display: table-row;"><span style="color: yellow; background-color: blue;"> esp-lisp </span></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row; color: yellow; background: blue;"></div>
<div class="fit" style="zoom: 5.22488038277512; display: table-row;"><span style="color: yellow; font-family: helvetica, arial, sans-serif; font-size: 11.9999990463257px; font-weight: normal; line-height: 17.0666675567627px; text-align: left; white-space: pre-wrap; background: blue;">An interactive IoT LISP
</span><span style="color: yellow; font-family: helvetica, arial, sans-serif; font-size: 11.9999990463257px; font-weight: normal; line-height: 17.0666675567627px; text-align: left; white-space: pre-wrap; background: blue;">for </span><span style="color: yellow; font-family: helvetica, arial, sans-serif; font-size: 11.9999990463257px; font-weight: normal; line-height: 17.0666675567627px; text-align: left; white-space: pre-wrap; background-color: blue;">embedded esp8266 programming</span></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 2.12865497076023; display: table-row;">(c) 2016 Jonas S Karlsson</div>
</div>

<div id="2" title="2" class="slide" style="text-align: center; color: black; height: 814px; zoom: 0.917700112739572; width: 1487.414004914px; -webkit-column-break-inside: avoid; background: blue;">
<br>
<div class="fit" style="zoom: 4.47540983606557; display: table-row;">   Agenda   </div><div class="fit" style="zoom: 1; display: table-row;"><br></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"><br></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"><br></div><div class="fit" style="zoom: 3.83157894736842; display: table-row; color: black; background: white;">ESP8266       </div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 54.6; display: table-row; color: blue; background: black;"> </div><div class="fit" style="zoom: 5.9672131147541; display: table-row; color: black; background: white;">     live</div><div class="fit" style="zoom: 3.36; display: table-row; color: black; background: white;">lisp           &nbsp;</div><div class="fit" style="zoom: 1; display: table-row; color: black; background: white;"></div><div class="fit" style="zoom: 1; display: table-row; color: green; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: green; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: black; background: white;"></div><div class="fit" style="zoom: 2.68304668304668; display: table-row; color: black; background: white;"><span style="line-height: 20px; text-align: left;">       conclusion</span><span style="color: yellow; line-height: 20px; text-align: left;">  &nbsp;</span></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"><br></div><div class="fit" style="zoom: 1; display: table-row; color: blue; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: green; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: green; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: red; background: black;"></div><div class="fit" style="zoom: 1; display: table-row; color: red; background: black;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="line-height: 15px; zoom: 1; display: table-row;"></div><div class="fit" style="line-height: 15px; zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"><br></div><div class="fit" style="zoom: 1; display: table-row;"></div><div class="fit" style="zoom: 1; display: table-row;"></div></div>


<script>
function about() {
  alert("(C) 2015 Jonas S Karlsson, slides, jsk@yesco.org");
}

function mouse(e) {
  var ratio = (1 - e.clientX / screen.width);
  var d = document.getElementById("menu");
  // only when really close
  d.style.opacity = ratio*ratio*ratio*ratio;
}

function renumber() {
  var slides = document.getElementsByClassName("slide");
  
  Array.prototype.slice.call(slides).forEach(function(s, i){
    s.id = i + 1;
    s.title = s.id;
    s.onclick = function(){ goto(+ s.id); };
    s.style["-webkit-column-break-inside"] = "avoid";
  });
}

function newslide(pos) {
  var s = '<div id="N" title="N" class="slide" style="color: yellow; background: black;">\n' + 
    '  <div class="fit" style="color: black; display: table-row; background: blue;">NEWSLIDE</div>\n' +
    '  <div class="fit" style="color: red; display: table-row;">something</div>\n' + 
    '  <div class="fit" style="color: green; display: table-row;">else</div>\n' +
    '  <div class="fit" style="color: blue; display: table-row;">right?</div>\n' + 
  '</div>';
  if (pos) {
    var d = document.getElementById(pos);
    d.insertAdjacentHTML("beforebegin", s);
    renumber();
    goto(current);
    goto(current);
    goto(current);
  } else {
    var d = document.getElementById("all");
    d.insertAdjacentHTML("beforeend", s);
    renumber();
    goto(-1);
    goto(-1);
    goto(-1);
  }
  // this fixes multicolumn overview "woles"
  window.resize();
}

function move(e) {
  // click event move focus
  var newTarget;
  if (e instanceof MouseEvent) newTarget = e.target;

  // tab to move
  if (e.keyCode == 9 && lastTarget) {
    newTarget = e.shiftKey ? lastTarget.prevElementSibling : lastTarget.nextElementSibling;
  }

  if (newTarget) {
    if (lastTarget) {
      lastTarget.style.outline = '';
      lastTarget.style.outlineOffset = '';
    }
    lastEvent = e;
    lastTarget = newTarget;
//    lastTarget.style.outline = '2px dashed black';
//    lastTarget.style.outlineOffset = '-1px';
    lastTarget.focus();
  }
}

function resizeIt(e) {
  var c = e;
  e.style.zoom = 1;
  e.style.display = 'inline-block';
//  e.style.width = '';

  var ww = window.innerWidth;
  var wh = window.innerHeight;

  var w = c.offsetWidth;
  var h = c.offsetHeight;

  var z = ww/w * 0.8;
  var zh = wh/e.parentNode.offsetHeight * 0.8;

  console.log(e.innerText, "\n", ww, w, z);

  e.style.zoom = z;
  e.style.display = 'table-row';

//e.style.transform = 'scale(' + z + ',' + zh + ')';
//e.style.transform = 'scale(1.1, 1.3)';
//e.style.transform = 'scale(' + z + ', 1)';

}

function resize() {
  var ds = document.getElementsByClassName('fit');
  Array.prototype.slice.call(ds).forEach(function(x){
    resizeIt(x);
  });

  // fix height by stretch
  var ds = document.getElementsByClassName('slide');
  Array.prototype.slice.call(ds).forEach(function(e){

var wh = window.innerHeight;
var ww = window.innerWidth;
e.style.height = wh;
//e.style.width = ww;
//return;

  var wh = window.innerHeight;
  var h = e.offsetHeight;
  e.style.zoom = wh/h;
  e.style.width = window.innerWidth * h/wh;

//      e.style.zoom = 1;
//      var z = wh/e.offsetHeight;
//      e.style.height = wh/z;
//      e.style.zoom = z * 0.90;
  });

}

function overview() {
  var d = document.getElementById("all");
  d.style.zoom = 0.15;
  d.style["-webkit-column-count"] = 7;
  d.style["-webkit-column-width"] = "300px";
  d.contentEditable = "false";
}

function normal() {
  var d = document.getElementById("all");
  d.style.zoom = 1;
  d.style["-webkit-column-count"] = "";
  d.style["-webkit-column-width"] = "";
  d.contentEditable = "true";
}

resize();
window.onresize = resize;

var current;

function goto(id) {
  normal();
  var slides = document.getElementsByClassName("slide");

  if (id === -1) id = slides.length;
  if (current < 0) current = 1;

  // show only this one
  document.getElementById("all").style.zoom=1;

  var e = document.getElementById(id);
  if (!e) return;

  current = id;

  // update current indicator
  var c = document.getElementById("current");
  if (c) c.innerText = current + "/" + slides.length;

  e.scrollIntoView();

  var wh = window.innerHeight;
  var h = e.offsetHeight;
  e.style.zoom = wh/h;
  e.style.width = window.innerWidth * h/wh;
  //  e.style.width = '100%';
}

function next() {  goto(current+1); }
function prev() {  goto(current-1); }

function zoom(id, factor) {
  var e = id instanceof Node ? id : document.getElementById(id);
  e.style.zoom = (e.style.zoom || 1) * factor;
}

function nextColor(last) {
  if (last == 'black') return 'white';
  if (last == 'white') return 'red';
  if (last == 'red') return 'green';
  if (last == 'green') return 'yellow';
  if (last == 'yellow') return 'blue';
  if (last == 'blue') return 'black';
  return 'red';
}

function color(id, where) {
  var e = id instanceof Node ? id : document.getElementById(id);
  e.style[where] = nextColor(e.style[where]);
}

function pad(id, using) {
  var e = id instanceof Node ? id : document.getElementById(id);
  var s = e.innerHTML;
  console.log(s);
  using = using.replace('&lt;', '<').replace('&gt;', '>');
  if (using == '><') s = ' ' + s + ' ';
  if (using == '<>') s = s.replace(/^ (.*) $/, '$1');
  if (using == '>') s = s.replace(/^(.*) ?$/, ' $1');
  if (using == '<') s = s.replace(/^ ?(.*)$/, '$1 ');
  if (using == '*') s = s.replace(/^ *(\b.*\b) *$/, '$1');
  e.innerHTML = s;
  resize();
}

renumber();
goto(1);
goto(1);
goto(1);
</script>





<div id="3" title="3" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.487425149700599; width: 2800.42997542998px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 7.53103448275862; background: blue;">ESP8266<br></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 2.63768115942029;">Single Chip Computer</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 5.83957219251337;">~40KB RAM<br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: black; display: table-row; zoom: 4.05947955390335;">512-4MB Flash</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 4.05947955390335; background: black;">10RMB == 2USD<br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 17.6129032258065;">IoT<br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1; background: red;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1; background: red;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="4" title="4" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.400196656833825; width: 3410.8230958231px; height: 814px; background: black;">
  <div class="fit" style="color: black; display: table-row; zoom: 13.3170731707317; background: green;">live</div><div class="fit" style="color: red; display: table-row; zoom: 17.9016393442623; background: white;">Lua</div><div class="fit" style="color: blue; display: table-row; zoom: 4.85333333333333; background: white;">interactive</div><div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268; background: white;">easy start</div><div class="fit" style="color: green; display: table-row; zoom: 1; background: white;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 5.93478260869565; background: white;"><span style="color: black;">difficult</span></div><div class="fit" style="color: green; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: green; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: green; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: white; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: black; display: table-row; zoom: 2.96739130434783; background: white;">&gt; one page of code</div><div class="fit" style="color: black; display: table-row; zoom: 1; background: white;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 2.31847133757962; background: white;"><span style="color: black; font-size: 40px;">1 function = 600 bytes!</span></div><div class="fit" style="color: black; display: table-row; zoom: 3.13793103448276; background: white;">only have 20KB...</div><div class="fit" style="color: white; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: white; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: white; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: green; display: table-row; zoom: 1; background: white;"></div><div class="fit" style="color: red; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: white;"></div><div class="fit" style="color: red; display: table-row; zoom: 1; background: black;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="color: black; display: table-row; zoom: 1; background: green;"></div><div class="fit" style="display: table-row; color: blue; zoom: 1; background: red;"></div><div class="fit" style="display: table-row; color: blue; zoom: 1; background: red;"></div><div class="fit" style="display: table-row; color: blue; zoom: 1; background: red;"></div><div class="fit" style="display: table-row; color: blue; zoom: 1; background: red;"></div><div class="fit" style="display: table-row; color: green; zoom: 1;"></div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="5" title="5" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.831460674157303; width: 1641.68918918919px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 13.8227848101266; background: red;">Lisp</div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.44479495268139;">live interactive<br></div>
  <div class="fit" style="color: black; display: table-row; zoom: 4.58823529411765;">command line</div><div class="fit" style="color: black; display: table-row; zoom: 3.66442953020134;">program == data</div>
</div><div id="6" title="6" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.464082098061574; width: 2941.28992628993px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 12.551724137931; background: blue;">I'll</div><div class="fit" style="color: black; display: table-row; zoom: 1; background: blue;"></div>
  <div class="fit" style="color: red; display: table-row; zoom: 10.1111111111111;">teach</div><div class="fit" style="color: green; display: table-row; zoom: 16.8;">You</div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 10.1111111111111;">Lisp!</div>
</div><div id="7" title="7" class="slide" style="color: blue; -webkit-column-break-inside: avoid; zoom: 0.685185185185185; width: 1992.16216216216px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 6.69938650306748; background: blue;">  Number<br>  </div>
  <div class="fit" style="color: red; display: table-row; zoom: 26.6341463414634;"><span style="font-size: 40.0000038146973px; color: black;">42</span><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="8" title="8" class="slide" style="color: green; -webkit-column-break-inside: avoid; zoom: 0.973684210526316; width: 1401.89189189189px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 3.81818181818182; background: blue;"> String<br>              </div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.81818181818182;">"Hello World!"</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="9" title="9" class="slide" style="color: black; -webkit-column-break-inside: avoid; zoom: 0.41298833079655; width: 3305.17813267813px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 4.31620553359684; background: blue;">   Symbol   </div>
  <div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 8.59842519685039;">define</div><div class="fit" style="color: black; display: table-row; zoom: 17.3333333333333;">  x</div><div class="fit" style="color: black; display: table-row; zoom: 17.3333333333333;">+<br>   </div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div>
</div><div id="10" title="10" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 4.4390243902439; background: blue;">nil<br>            </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 10.7058823529412;"> ( ) </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="11" title="11" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 3.80487804878049; background: blue;">      Pair    <br>      </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 7.63636363636364;">(3 . 4)</div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div></div><div id="12" title="12" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.976019184652278; width: 1398.53808353808px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 4.4390243902439; background: blue;">CONS-CAR-CDR</div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><span style="font-size: 40px;"><br></span></div><div class="fit" style="color: black; display: table-row; zoom: 2.53953488372093;"><span style="font-size: 40px;">(cons 3 4) =&gt; (3 . 4)</span></div><div class="fit" style="color: black; display: table-row; zoom: 1;"><span style="font-size: 40px;"><br></span></div><div class="fit" style="color: black; display: table-row; zoom: 2.53953488372093;"><span style="line-height: 35px;">(car (cons 3 4)) =&gt; 3</span></div><div class="fit" style="color: black; display: table-row; zoom: 2.53953488372093;"><span style="line-height: 35px;">(cdr (cons 3 4)) =&gt; 4</span></div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="13" title="13" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.485390578413834; width: 2812.1683046683px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 10.7058823529412; background: blue;"> List</div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268;">(3 . nil )</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.10526315789474;">   same as   </div><div class="fit" style="color: white; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: white; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: black; display: table-row; zoom: 17.9016393442623;">(3)</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="14" title="14" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.432978723404255; width: 3152.57985257985px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 5.43283582089552; background: blue;">   List   </div>
  <div class="fit" style="color: black; display: table-row; zoom: 7.74468085106383;">(1 .   </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 7.74468085106383;">(2 .   </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 7.74468085106383;">(3 . ()</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 6.03314917127072;">         </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.94117647058824;">          )</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.53112033195021;">           )</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.53112033195021;">           )</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="15" title="15" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;"><div class="fit" style="color: black; display: table-row; zoom: 1; background: blue;"></div>
  <div class="fit" style="color: black; display: table-row; zoom: 4.4390243902439; background: blue;">    List    </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 7.63636363636364;">(1 2 3)</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="16" title="16" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 2.80719794344473; background: blue;">  call a function  </div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 7.63636363636364;">(+ 3 4)</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="17" title="17" class="slide" style="-webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 2.66341463414634; background-image: initial; background-attachment: initial; background-color: blue; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;">  call 2 functions  </div>
  <div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 4.10526315789474;"><span style="color: black;">(* 2 (+ 3 4))</span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="display: table-row; zoom: 1;"><span style="color: green;"><br></span></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="18" title="18" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.97719087635054; width: 1396.86117936118px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 3.32926829268293; background: blue;">read/write pin 4</div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268;">(in 4)    </div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268;">(out 4 1) <br></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div>
</div><div id="19" title="19" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.936708860759494; width: 1457.22972972973px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 3.32926829268293; background: blue;">     double     </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 2.95934959349594;">(define (double n)</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 5.93478260869565;">  (+ n n)</div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.32926829268293;">               )</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div><div id="20" title="20" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 2.53953488372093; background: blue;">      call it        </div><div class="fit" style="color: black; display: table-row; zoom: 54.6; background: blue;"> </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268;">(double 7)<br></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div>
</div><div id="21" title="21" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 4.45714285714286; background: blue;">     if     </div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: black; display: table-row; zoom: 2.13698630136986;">(if (= 3 3)              </div><div class="fit" style="color: green; display: table-row; zoom: 3.13793103448276;">       "is equal"</div><div class="fit" style="color: red; display: table-row; zoom: 2.66992665036675;">         "not equal"</div><div class="fit" style="color: black; display: table-row; zoom: 2.13698630136986;">                        )</div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div>

<div id="22" title="22" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268; background: blue;">   loop   </div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1.71968503937008;">(define (loop n)               </div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: black; display: table-row; zoom: 1.66717557251908;">  (if (&lt; n 1) nil               </div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1.9746835443038;">      (cons n              <br></div><div class="fit" style="color: black; display: table-row; zoom: 1.48168249660787;">                (loop (- n 1)) ) ) )<br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div><div class="fit" style="color: green; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div>
</div>

<div id="23" title="23" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 3.80487804878049; background: blue;">call it<br>              </div>
  <div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.4390243902439;">&gt;(loop 5)   </div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 4.85333333333333;">(5 4 3 2 1)<br></div>
  <div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"><br></div>
</div></div>

<div id="24" title="24" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.955399061032864; width: 1428.72235872236px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 4.85333333333333; background: blue;">Interactive</div>
  <div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.55700325732899;">&gt; trace on     </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.55700325732899;">&gt; mem (+ 3 4)  </div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 3.55700325732899;">&gt; help&nbsp;       &nbsp;</div><div class="fit" style="color: red; display: table-row; zoom: 1;"></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: red; display: table-row; zoom: 2.31847133757962;">Ctrl-T       CTRL-C    <br></div>
  <div class="fit" style="color: green; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: blue; display: table-row; zoom: 1;"></div>
</div>

<div id="25" title="25" class="slide" style="color: yellow; -webkit-column-break-inside: avoid; zoom: 0.974850299401198; width: 1400.21498771499px; height: 814px; background: white;">
  <div class="fit" style="color: black; display: table-row; zoom: 5.32682926829268; background: blue;">Conclusion</div><div class="fit" style="color: black; display: table-row; zoom: 1; background: blue;"></div>
  <div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div><div class="fit" style="color: black; display: table-row; zoom: 1.83838383838384;">1/2 the speed of compiled Lua</div>
  <div class="fit" style="color: black; display: table-row; zoom: 3.80487804878049;">tail recursion</div><div class="fit" style="color: black; display: table-row; zoom: 4.10526315789474;">debug        <br></div><div class="fit" style="color: black; display: table-row; zoom: 1;"></div>
  <div class="fit" style="color: black; display: table-row; zoom: 1;"><br></div>
</div>

<script>
function about() {
  alert("(C) 2015 Jonas S Karlsson, slides, jsk@yesco.org");
}

function mouse(e) {
  var ratio = (1 - e.clientX / screen.width);
  var d = document.getElementById("menu");
  // only when really close
  d.style.opacity = ratio*ratio*ratio*ratio;
}

function renumber() {
  var slides = document.getElementsByClassName("slide");
  
  Array.prototype.slice.call(slides).forEach(function(s, i){
    s.id = i + 1;
    s.title = s.id;
    s.onclick = function(){ goto(+ s.id); };
    s.style["-webkit-column-break-inside"] = "avoid";
  });
}

function newslide(pos) {
  var s = '<div id="N" title="N" class="slide" style="color: yellow; background: black;">\n' + 
    '  <div class="fit" style="color: black; display: table-row; background: blue;">NEWSLIDE</div>\n' +
    '  <div class="fit" style="color: red; display: table-row;">something</div>\n' + 
    '  <div class="fit" style="color: green; display: table-row;">else</div>\n' +
    '  <div class="fit" style="color: blue; display: table-row;">right?</div>\n' + 
  '</div>';
  if (pos) {
    var d = document.getElementById(pos);
    d.insertAdjacentHTML("beforebegin", s);
    renumber();
    goto(current);
    goto(current);
    goto(current);
  } else {
    var d = document.getElementById("all");
    d.insertAdjacentHTML("beforeend", s);
    renumber();
    goto(-1);
    goto(-1);
    goto(-1);
  }
  // this fixes multicolumn overview "woles"
  window.resize();
}

function move(e) {
  // click event move focus
  var newTarget;
  if (e instanceof MouseEvent) newTarget = e.target;

  // tab to move
  if (e.keyCode == 9 && lastTarget) {
    newTarget = e.shiftKey ? lastTarget.prevElementSibling : lastTarget.nextElementSibling;
  }

  if (newTarget) {
    if (lastTarget) {
      lastTarget.style.outline = '';
      lastTarget.style.outlineOffset = '';
    }
    lastEvent = e;
    lastTarget = newTarget;
//    lastTarget.style.outline = '2px dashed black';
//    lastTarget.style.outlineOffset = '-1px';
    lastTarget.focus();
  }
}

function resizeIt(e) {
  var c = e;
  e.style.zoom = 1;
  e.style.display = 'inline-block';
//  e.style.width = '';

  var ww = window.innerWidth;
  var wh = window.innerHeight;

  var w = c.offsetWidth;
  var h = c.offsetHeight;

  var z = ww/w * 0.8;
  var zh = wh/e.parentNode.offsetHeight * 0.8;

  console.log(e.innerText, "\n", ww, w, z);

  e.style.zoom = z;
  e.style.display = 'table-row';

//e.style.transform = 'scale(' + z + ',' + zh + ')';
//e.style.transform = 'scale(1.1, 1.3)';
//e.style.transform = 'scale(' + z + ', 1)';

}

function resize() {
  var ds = document.getElementsByClassName('fit');
  Array.prototype.slice.call(ds).forEach(function(x){
    resizeIt(x);
  });

  // fix height by stretch
  var ds = document.getElementsByClassName('slide');
  Array.prototype.slice.call(ds).forEach(function(e){

var wh = window.innerHeight;
var ww = window.innerWidth;
e.style.height = wh;
//e.style.width = ww;
//return;

  var wh = window.innerHeight;
  var h = e.offsetHeight;
  e.style.zoom = wh/h;
  e.style.width = window.innerWidth * h/wh;

//      e.style.zoom = 1;
//      var z = wh/e.offsetHeight;
//      e.style.height = wh/z;
//      e.style.zoom = z * 0.90;
  });

}

function overview() {
  var d = document.getElementById("all");
  d.style.zoom = 0.15;
  d.style["-webkit-column-count"] = 7;
  d.style["-webkit-column-width"] = "300px";
  d.contentEditable = "false";
}

function normal() {
  var d = document.getElementById("all");
  d.style.zoom = 1;
  d.style["-webkit-column-count"] = "";
  d.style["-webkit-column-width"] = "";
  d.contentEditable = "true";
}

resize();
window.onresize = resize;

var current;

function goto(id) {
  normal();
  var slides = document.getElementsByClassName("slide");

  if (id === -1) id = slides.length;
  if (current < 0) current = 1;

  // show only this one
  document.getElementById("all").style.zoom=1;

  var e = document.getElementById(id);
  if (!e) return;

  current = id;

  // update current indicator
  var c = document.getElementById("current");
  if (c) c.innerText = current + "/" + slides.length;

  e.scrollIntoView();

  var wh = window.innerHeight;
  var h = e.offsetHeight;
  e.style.zoom = wh/h;
  e.style.width = window.innerWidth * h/wh;
  //  e.style.width = '100%';
}

function next() {  goto(current+1); }
function prev() {  goto(current-1); }

function zoom(id, factor) {
  var e = id instanceof Node ? id : document.getElementById(id);
  e.style.zoom = (e.style.zoom || 1) * factor;
}

function nextColor(last) {
  if (last == 'black') return 'white';
  if (last == 'white') return 'red';
  if (last == 'red') return 'green';
  if (last == 'green') return 'yellow';
  if (last == 'yellow') return 'blue';
  if (last == 'blue') return 'black';
  return 'red';
}

function color(id, where) {
  var e = id instanceof Node ? id : document.getElementById(id);
  e.style[where] = nextColor(e.style[where]);
}

function pad(id, using) {
  var e = id instanceof Node ? id : document.getElementById(id);
  var s = e.innerHTML;
  console.log(s);
  using = using.replace('&lt;', '<').replace('&gt;', '>');
  if (using == '><') s = ' ' + s + ' ';
  if (using == '<>') s = s.replace(/^ (.*) $/, '$1');
  if (using == '>') s = s.replace(/^(.*) ?$/, ' $1');
  if (using == '<') s = s.replace(/^ ?(.*)$/, '$1 ');
  if (using == '*') s = s.replace(/^ *(\b.*\b) *$/, '$1');
  e.innerHTML = s;
  resize();
}

renumber();
goto(1);
goto(1);
goto(1);
</script>


</body></html>